document.addEventListener('DOMContentLoaded', () => {
    const appContent = document.getElementById('app-content');
    const navLinks = document.querySelectorAll('nav a'); // Отримуємо всі навігаційні посилання

    // Дефініція контенту для кожної секції
    // Кожен HTML-блок обгорнутий у <section> з унікальним ID
    const sectionsHtml = {
        'home': `
            <section id="home-section">
                <h2>Ласкаво просимо!</h2>
                <p>Цей додаток присвячений глибокому осмисленню фундаментальних понять українського суспільства: <strong>родини, дітей та віри</strong>.</p>
                <p>Ми розглянемо, як біблійні принципи, закладені тисячоліття тому, співвідносяться з сучасними конституційними нормами України. Особливу увагу ми приділимо викликам, з якими стикається українська родина і діти під час війни, та дізнаємося, якою має бути наша відповідь на це з точки зору християнської етики та людської солідарності.</p>
                <p>Досліджуйте кожен розділ, щоб отримати повне розуміння цих важливих тем.</p>
                <h3>Навігація по темах:</h3>
                <ul>
                    <li><strong>Божий Задум:</strong> Біблійні основи сім'ї та виховання дітей.</li>
                    <li><strong>Захист Держави:</strong> Як Конституція України оберігає родину та дітей.</li>
                    <li><strong>Виклики Часу:</strong> Трагедія війни та злочини проти українських дітей.</li>
                    <li><strong>Наша Відповідь:</strong> Християнська позиція, заклик до дії та молитва.</li>
                </ul>
            </section>
        `,
        'bible-plan': `
            <section id="bible-plan-section">
                <h2>1. Божий Задум: Біблійні основи сім'ї та батьківства</h2>
                <p>Біблія є фундаментом для розуміння родини як священного інституту, встановленого Самим Богом. Це місце, де формуються цінності, передається віра та виховуються нові покоління.</p>
                <h3>Шлюб як священний завіт</h3>
                <p>Божий задум передбачає шлюб як <span class="bold">священний завіт між чоловіком, жінкою та Богом</span>. Це не просто договір, а обітниця вірності та любові, яка є основою для стабільної родини.</p>
                <div class="quote">
                    <p>"Покине чоловік свого батька й матір, і пристане до жінки своєї, і стануть вони одним тілом."</p>
                    <p class="bible-ref">Буття 2:24</p>
                </div>
                <p>Шлюб відображає взаємини Христа і Церкви, що підкреслює його глибину та важливість (<span class="bible-ref">Ефесян 5:22-33</span>).</p>
                <h3>Діти як благословення та відповідальність</h3>
                <p>Діти розглядаються в Біблії як <span class="bold">благословення від Господа</span> і спадщина, за яку батьки несуть величезну відповідальність.</p>
                <div class="quote">
                    <p>"Ось спадщина Господня — діти; нагорода від Нього — плід утроби."</p>
                    <p class="bible-ref">Псалом 127:3</p>
                </div>
                <p>Батьки зобов'язані виховувати дітей у навчанні й напоумленні Господньому, забезпечуючи їхній фізичний, емоційний та духовний розвиток (<span class="bible-ref">Ефесян 6:4; Приповісті 22:6</span>). Нехтування дітьми Біблія засуджує як великий гріх (<span class="bible-ref">1 Тимофія 5:8</span>).</p>
                <h3>Радикальна етика Ісуса: Пріоритет любові</h3>
                <p>Ісус навчав, що любов до Нього має бути <span class="bold">абсолютною і першочерговою</span>, навіть якщо це вимагає жертв або вибору між Ним та найближчими. Фраза "Якщо хто приходить до Мене, і не зненавидить свого батька й матері..." (<span class="bible-ref">Луки 14:26</span>) є гіперболою, що підкреслює <span class="highlight">пріоритетність Божої волі</span>.</p>
                <p>Це не означає відмови від любові до родини, а встановлення чіткої ієрархії: любов до Бога понад усе, а всі інші форми любові витікають з неї і підпорядковуються їй. Водночас, Ісус Сам шанував Своїх батьків і підтверджував заповідь "Шануй батька твого і матір твою" (<span class="bible-ref">Вихід 20:12</span>).</p>
            </section>
        `,
        'constitution-defense': `
            <section id="constitution-defense-section">
                <h2>2. Захист Держави: Конституційні норми щодо родини та дітей</h2>
                <p>Конституція України, як основний закон нашої держави, визнає та захищає інститут шлюбу, сім'ї та права дітей, що свідчить про універсальну важливість цих цінностей для суспільства.</p>
                <h3>Стаття 51: Захист шлюбу та батьківства</h3>
                <div class="quote">
                    <p>"Шлюб ґрунтується на вільній згоді жінки і чоловіка. Кожен із подружжя має рівні права і обов'язки у шлюбі та сім’ї. Батьки зобов'язані утримувати своїх дітей до повноліття. Повнолітні діти зобов'язані піклуватися про своїх непрацездатних батьків."</p>
                    <p class="constitution-ref">Конституція України, Стаття 51</p>
                </div>
                <ul>
                    <li>Ця стаття підтверджує біблійний принцип взаємної згоди та рівності у шлюбі.</li>
                    <li>Вона чітко визначає обов'язок батьків піклуватися про дітей, що співзвучно біблійним настановам.</li>
                    <li>Також закріплює обов'язок дітей піклуватися про своїх літніх батьків, що відображає заповідь шанування.</li>
                </ul>
                <h3>Стаття 52: Права дітей та захист державою</h3>
                <div class="quote">
                    <p>"Діти рівні у своїх правах незалежно від походження, а також від того, народжені вони у шлюбі чи поза ним. Будь-яке насильство над дитиною та її експлуатація переслідуються за законом. Утримання та виховання дітей-сиріт і дітей, позбавлених батьківського піклування, покладається на державу. Держава заохочує і підтримує благодійницьку діяльність щодо дітей."</p>
                    <p class="constitution-ref">Конституція України, Стаття 52</p>
                </div>
                <ul>
                    <li>Конституція гарантує рівність прав усіх дітей, що є важливим принципом справедливості.</li>
                    <li><span class="highlight">Карається будь-яке насильство та експлуатація</span> – це відображає Божу волю щодо захисту невинних.</li>
                    <li>Держава бере на себе відповідальність за сиріт, що перегукується з біблійним закликом до піклування про вразливих (<span class="bible-ref">Якова 1:27</span>).</li>
                </ul>
                <p>Таким чином, ми бачимо, що біблійні принципи щодо родини, відповідальності та захисту дітей знаходять своє відображення в основному законі нашої держави, створюючи міцну основу для благополучного суспільства.</p>
            </section>
        `,
        'war-challenges': `
            <section id="war-challenges-section">
                <h2>3. Виклики Часу: Трагедія війни та злочини проти українських дітей</h2>
                <p>Російська агресія проти України принесла неймовірні страждання, особливо для найменш захищених – дітей. Це не просто воєнні дії, а свідомі злочини проти людяності, що мають ознаки геноциду.</p>
                <h3>Масштаби трагедії:</h3>
                <ul>
                    <li><span class="bold">Викрадення та депортація:</span> За даними української влади, понад 19 500 українських дітей були примусово вивезені до Росії та на окуповані території (станом на липень 2025 року). Їхня ідентичність змінюється, їх русифікують, деяких готують до усиновлення в російських родинах. Це грубе порушення міжнародного права та ознака геноциду.</li>
                    <li><span class="bold">Вбивства та каліцтва:</span> Понад 550 дітей загинули та сотні отримали поранення внаслідок цілеспрямованих обстрілів і бомбардувань російських окупантів (станом на липень 2025 року). Кожна цифра – це обірване життя, невимовний біль родини.</li>
                    <li><span class="bold">Позбавлення батьківства:</span> Сотні дітей стали сиротами, бо їхні батьки були вбиті російськими військовими. Ці діти втратили найцінніше – любов і захист своїх рідних.</li>
                    <li><span class="bold">Психологічні травми:</span> Навіть ті, хто вижив, переживають глибокі травми, страх, втрати та руйнування свого світу.</li>
                </ul>
                <h3>Етична та юридична оцінка:</h3>
                <ul>
                    <li><span class="bold">Воєнні злочини та злочини проти людяності:</span> Міжнародний кримінальний суд вже видав ордери на арешт, зокрема на Володимира Путіна, за підозрою у незаконній депортації дітей.</li>
                    <li><span class="bold">Ознаки геноциду:</span> Насильницьке переміщення дітей з однієї групи до іншої, з метою зміни їхньої національної ідентичності, є актом геноциду згідно з Конвенцією ООН.</li>
                    <li><span class="bold">Абсолютне зло:</span> З християнської точки зору, викрадення, вбивство та катування дітей є абсолютним злом, що суперечить усім Божим заповідям та принципам любові. Це руйнує Божий задум щодо сім'ї та життя.</li>
                </ul>
            </section>
        `,
        'our-response': `
            <section id="our-response-section">
                <h2>4. Наша Відповідь: Християнська позиція, дія та молитва</h2>
                <p>Перед обличчям такого зла, наша християнська віра закликає нас не мовчати, а діяти. Ми покликані бути руками та ногами Бога у цьому світі, захищаючи невинних і борючись за справедливість.</p>
                <h3>Біблійний заклик до дії:</h3>
                <div class="quote">
                    <p>"Чиста й непорочна побожність перед Богом і Отцем оце: зглянутися над сиротами та вдовами в утиску їхньому..."</p>
                    <p class="bible-ref">Якова 1:27</p>
                </div>
                <ul>
                    <li><span class="bold">Пам'ять та Справедливість:</span> Ми повинні пам'ятати про ці злочини, свідчити світові правду та боротися за повернення кожної викраденої дитини та притягнення винних до відповідальності.</li>
                    <li><span class="bold">Емпатія та Співчуття:</span> Розвивати глибоке співчуття до постраждалих дітей та їхніх родин, підтримуючи їх у важкі часи.</li>
                    <li><span class="bold">Підтримка та Допомога:</span> Долучатися до волонтерських та благодійних організацій, які займаються поверненням, реабілітацією та підтримкою дітей-сиріт.</li>
                    <li><span class="bold">Особиста Відповідальність:</span> Кожен з нас може робити свій внесок через молитву, інформування та підтримку ініціатив.</li>
                </ul>
                <div class="prayer-box">
                    <h3>Молитва за українських дітей</h3>
                    <p><strong>Боже наш, Отче Небесний,</strong></p>
                    <p>Ми приходимо до Тебе з болем у серці, дивлячись на страждання найбеззахисніших — наших українських дітей. Ти, хто є Батьком сиріт і Захисником вдів, бачиш кожну сльозу, чуєш кожен крик і знаєш про кожну травму, яку вони переживають через жорстоку війну.</p>
                    <p><strong>Ми молимося за тих, кого викрали та насильно вивезли:</strong><br>Господи, поверни кожну викрадену дитину до її родини, до її дому, до її Батьківщини. Зруйнуй плани тих, хто прагне змінити їхню ідентичність і відірвати від коріння. Нехай їхні серця будуть захищені від зла, а розум – від пропаганди. Зміцни тих, хто шукає їх і бореться за їхнє повернення.</p>
                    <p><strong>Ми згадуємо тих, чиї життя обірвала війна:</strong><br>Змилуйся, Господи, над душами понад 550 дітей, які загинули від рук агресора. Прийми їх у Свої Небесні Оселі. Утіш батьків, братів, сестер та всіх рідних, хто втратив своїх дітей. Зціли їхні розбиті серця і даруй їм сили жити далі, пам'ятаючи про своїх янголів.</p>
                    <p><strong>Молимося за тих, хто втратив батьків:</strong><br>Боже, Ти – Батько сиріт. Будь Отцем для тих сотень дітей, хто втратив своїх матерів і батьків у цій війні. Забезпеч їхні потреби, оточи їх любов'ю турботливих людей, дай їм відчути Твою батьківську турботу і захист. Допоможи їм зцілитися від страшних втрат і знайти надію на майбутнє.</p>
                    <p><strong>Просимо за тих, хто пережив жахіття війни:</strong><br>Господи, зціли глибокі душевні рани дітей, які бачили смерть, руйнування, насильство. Захисти їх від посттравматичного стресу, від жахів спогадів. Даруй їм мирний сон, радість дитинства, можливість знову довіряти та мріяти.</p>
                    <p><strong>Молимося за мир в Україні:</strong><br>Зупини агресора, Господи. Припини кровопролиття, руйнування та страждання. Наповни серця Твоєю істиною, справедливістю і любов'ю.</p>
                    <p><strong>Дай нам, дорослим, мудрості та сил</strong> бути руками Твоєї турботи, бути захистом для цих дітей, боротися за їхнє право на щасливе дитинство.</p>
                    <p>Боже, у Твоїй милості та силі наша єдина надія. Вислухай нашу молитву і спаси українських дітей в ім’я Ісуса Христа.</p>
                    <p class="bold">Амінь.</p>
                </div>
                <p>Пам'ятаймо, що віра без діл мертва. Нехай ця молитва спонукає нас до конкретних кроків назустріч постраждалим та до боротьби за світле майбутнє України.</p>
            </section>
        `
    };

    // Функція для завантаження контенту та оновлення активної секції
    function loadContent(sectionId) {
        // Встановлюємо HTML для основного контейнера.
        // CSS правило 'section { display: none; }' приховає всі секції за замовчуванням.
        appContent.innerHTML = sectionsHtml[sectionId];

        // Знаходимо щойно завантажену секцію за її ID та додаємо клас 'active'
        const currentSection = document.getElementById(`${sectionId}-section`);
        if (currentSection) {
            currentSection.classList.add('active');
        }

        // Оновлюємо активний клас для навігаційних посилань
        navLinks.forEach(link => {
            if (link.dataset.section === sectionId) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    // Обробник кліків по навігації
    navLinks.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault(); // Запобігти стандартній поведінці посилання
            const sectionId = event.target.dataset.section;
            loadContent(sectionId);
            // Оновлення URL без перезавантаження сторінки
            history.pushState({ section: sectionId }, '', `#${sectionId}`);
        });
    });

    // Обробка початкового завантаження та навігації по історії браузера
    // При завантаженні сторінки перевіряємо хеш у URL або встановлюємо 'home' за замовчуванням
    const initialSection = window.location.hash.substring(1) || 'home';
    loadContent(initialSection);

    // Обробка навігації кнопками "назад/вперед" у браузері
    window.addEventListener('popstate', (event) => {
        const sectionId = event.state ? event.state.section : 'home';
        loadContent(sectionId);
    });
});
